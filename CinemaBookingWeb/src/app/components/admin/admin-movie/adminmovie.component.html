<div class="layout-container">
    <nav id="menu">
      <div class="region region-menu">
        <nav role="navigation" id="block-mainnavigation">
          <div id="sitebranding" class="sitebranding">
            <a href="" class="Admin-Text">  
                <span>AdminMovie</span>
            </a>
            <a href="/admin" class="logo">
              <img src="/static/assets/images/logo.png" alt="logo">
            </a>
          </div>
        </nav>
      </div>
    </nav>

    <div *ngIf="movieList.length && showList == true">
        <h2 class="Movie-Text">Movie List</h2>
<table class="movie-table">
    <thead>
        <tr>
            <th>ID</th>
            <th>Title</th>
            <th>Director</th>
            <th>Duration</th>
            <th>ImgLink</th>
            <th>
                <button class="create-btn" (click)="toggleSave()">Create</button>
            </th>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let movie of movieList">
            <td data-label="ID">{{movie.movieID}}</td>
            <td data-label="Title">{{movie.title}}</td>
            <td data-label="Director">{{ movie.director }}</td>
            <td data-label="Duration">{{ movie.duration }}</td>
            <td data-label="movieLink">{{ movie.movieLink }}</td>
            <td>
                <button class="edit-btn" (click)="editMovie(movie)">Edit</button>
                <button class="delete-btn" (click)="deleteMovie(movie)">Delete</button>
            </td>
        </tr>
    </tbody>
</table>
</div>
<div *ngIf="showForm == true">
<div *ngIf="isEditMode == true">
<h2 class="Movie-Text">Movie Edit</h2>
</div>
<div *ngIf="isEditMode == false">
<h2 class="Movie-Text">Movie Create</h2>
</div>
<div class="form-container">
    <form [formGroup]="movieForm" (ngSubmit)="save()">
      <input type="hidden" formControlName="movieID">
      <span>Title</span>
      <input type="text" placeholder="Title" id="title" formControlName="title">
      <span>Duration</span>
      <input type="number" placeholder="Duration" id="duration" formControlName="duration">
      <span>Director</span>
      <input type="text" placeholder="Director" id="director" formControlName="director">
      <span>MovieLink</span>
      <input type="text" placeholder="movieLink" id="movieLink" formControlName="movieLink">
      <div formGroupName="genre">
        <span>Genre</span>
        <select formControlName="genreID" id="genreID">
          <option value="">Select Genre</option>
          <option *ngFor="let genre of genreList" [value]="genre.genreID">
            {{ genre.genreName }}
          </option>
        </select>
      </div>
      <button type="submit">Save</button>
      <button class="cancel-btn" type="cancel" (click)="toggleSave()">Cancel</button>
      <small>
        <div *ngIf="movieForm.get('title')?.invalid" class="error-message">
           | Title is requrired |
        </div>
        <div *ngIf="movieForm.get('duration')?.invalid" class="error-message">
          |  Duration is requrired |
        </div>
        <div *ngIf="movieForm.get('director')?.invalid" class="error-message">
          |  Director is requrired |
        </div>
        <div *ngIf="movieForm.get('movieLink')?.invalid" class="error-message">
            |  MovieLink is requrired |
        </div>
      </small>
    </form>
  </div>
</div>
  

  
